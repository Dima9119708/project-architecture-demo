import{a6 as fe,a7 as de,r as l,j as f,l as w,a8 as K,a9 as X,q as he,k as ge,aa as me,ab as be}from"./index-CSnOsDjA.js";import{C as xe}from"./eye-BZAmPF1j.js";import{C as we}from"./chevron-right-Dt4WB6JG.js";import{I as ve}from"./main-page-CM3oKIyn.js";var Z=pe();function I(e,...t){if(!Z)return;const n=Se(e,...t);performance.mark(n),console.log(e,...t)}function Ne(e,...t){Z&&console.warn(e,...t)}function Se(e,...t){return e.replace(/%[sfdO]/g,n=>{const r=t.shift();return n==="%O"&&r?JSON.stringify(r).replace(/"([^"]+)":/g,"$1:"):String(r)})}function pe(){try{if(typeof localStorage>"u")return!1;const t="nuqs-localStorage-test";localStorage.setItem(t,t);const n=localStorage.getItem(t)===t;if(localStorage.removeItem(t),!n)return!1}catch(t){return console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",t),!1}return(localStorage.getItem("debug")??"").includes("nuqs")}function W(e,t,n){try{return e(t)}catch(r){return Ne("[nuqs] Error while parsing value `%s`: %O"+(n?" (for key `%s`)":""),t,r,n),null}}function je(){var t;if(typeof window>"u"||!!!window.GestureEvent)return 50;try{const n=(t=navigator.userAgent)==null?void 0:t.match(/version\/([\d\.]+) safari/i);return parseFloat(n[1])>=17?120:320}catch{return 320}}var _=je(),U=new Map,C={history:"replace",scroll:!1,shallow:!0,throttleMs:_},$=new Set,J=0,F=null;function ye(e){return U.get(e)}function Ce(){U.clear(),$.clear(),C.history="replace",C.scroll=!1,C.shallow=!0,C.throttleMs=_}function Te(e,t,n,r){const s=t===null?null:n(t);return I("[nuqs queue] Enqueueing %s=%s %O",e,s,r),U.set(e,s),r.history==="push"&&(C.history="push"),r.scroll&&(C.scroll=!0),r.shallow===!1&&(C.shallow=!1),r.startTransition&&$.add(r.startTransition),C.throttleMs=Math.max(r.throttleMs??_,Number.isFinite(C.throttleMs)?C.throttleMs:0),s}function Re(e,t){return F===null&&(F=new Promise((n,r)=>{if(!Number.isFinite(C.throttleMs)){I("[nuqs queue] Skipping flush due to throttleMs=Infinity"),n(new URLSearchParams(location.search)),setTimeout(()=>{F=null},0);return}function s(){J=performance.now();const[a,d]=Me(e);d===null?n(a):r(a),F=null}function u(){const d=performance.now()-J,o=C.throttleMs,i=t*Math.max(0,Math.min(o,o-d));I("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",i,o),i===0?s():setTimeout(s,i)}setTimeout(u,0)})),F}function Me(e){const t=new URLSearchParams(location.search);if(U.size===0)return[t,null];const n=Array.from(U.entries()),r={...C},s=Array.from($);Ce(),I("[nuqs queue] Flushing queue %O with options %O",n,r);for(const[u,a]of n)a===null?t.delete(u):t.set(u,a);try{return Ie(s,()=>{e(t,{history:r.history,scroll:r.scroll,shallow:r.shallow})}),[t,null]}catch(u){return console.error(fe(429),n.map(([a])=>a).join(),u),[t,u]}}function Ie(e,t){const n=r=>{if(r===e.length)return t();const s=e[r];if(!s)throw new Error("Invalid transition function");s(()=>n(r+1))};n(0)}function Ee(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}function P(e){function t(n){if(typeof n>"u")return null;let r="";if(Array.isArray(n)){if(n[0]===void 0)return null;r=n[0]}return typeof n=="string"&&(r=n),W(e.parse,r)}return{eq:(n,r)=>n===r,...e,parseServerSide:t,withDefault(n){return{...this,defaultValue:n,parseServerSide(r){return t(r)??n}}},withOptions(n){return{...this,...n}}}}var Oe=P({parse:e=>e,serialize:e=>`${e}`}),ee=P({parse:e=>{const t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});P({parse:e=>{const t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{const t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}});P({parse:e=>{const t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()});P({parse:e=>e==="true",serialize:e=>e?"true":"false"});P({parse:e=>{const t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString()});P({parse:e=>{const t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString()});P({parse:e=>{const t=new Date(e.slice(0,10));return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString().slice(0,10)});var G=Ee();function Y(e,{history:t="replace",shallow:n=!0,scroll:r=!1,throttleMs:s=_,parse:u=c=>c,serialize:a=String,eq:d=(c,h)=>c===h,defaultValue:o=void 0,clearOnDefault:i=!0,startTransition:g}={history:"replace",scroll:!1,shallow:!0,throttleMs:_,parse:c=>c,serialize:String,eq:(c,h)=>c===h,clearOnDefault:!0,defaultValue:void 0}){const{searchParams:c,updateUrl:h,rateLimitFactor:m=1}=de(),S=l.useRef((c==null?void 0:c.get(e))??null),[T,R]=l.useState(()=>{const v=ye(e),b=v===void 0?(c==null?void 0:c.get(e))??null:v;return b===null?null:W(u,b,e)}),E=l.useRef(T);I("[nuqs `%s`] render - state: %O, iSP: %s",e,T,(c==null?void 0:c.get(e))??null),l.useEffect(()=>{const v=(c==null?void 0:c.get(e))??null;if(v===S.current)return;const b=v===null?null:W(u,v,e);I("[nuqs `%s`] syncFromUseSearchParams %O",e,b),E.current=b,S.current=v,R(b)},[c==null?void 0:c.get(e),e]),l.useInsertionEffect(()=>{function v({state:b,query:p}){I("[nuqs `%s`] updateInternalState %O",e,b),E.current=b,S.current=p,R(b)}return I("[nuqs `%s`] subscribing to sync",e),G.on(e,v),()=>{I("[nuqs `%s`] unsubscribing from sync",e),G.off(e,v)}},[e]);const A=l.useCallback((v,b={})=>{let p=qe(v)?v(E.current??o??null):v;return(b.clearOnDefault??i)&&p!==null&&o!==void 0&&d(p,o)&&(p=null),S.current=Te(e,p,a,{history:b.history??t,shallow:b.shallow??n,scroll:b.scroll??r,throttleMs:b.throttleMs??s,startTransition:b.startTransition??g}),G.emit(e,{state:p,query:S.current}),Re(h,m)},[e,t,n,r,s,g,h,m]);return[T??o??null,A]}function qe(e){return typeof e=="function"}var M=(e=>(e.Ascending="asc",e.Descending="desc",e))(M||{});const te=l.createContext(""),k=()=>l.useContext(te),Pe=te.Provider,O=new Map,q=new Map,L=new Map,Ae=[M.Descending,!1],De=(e,t,n=!1)=>{const r=k(),s=l.useSyncExternalStore(o=>{const i=L.get(r)??new Map;if(L.has(r)||L.set(r,i),!i.get(e)){const h=[t,n],m=new Set;i.set(e,{state:h,listeners:m})}const c=i.get(e);return c.listeners.add(o),()=>c.listeners.delete(o)},()=>{var i;const o=L.get(r);return((i=o==null?void 0:o.get(e))==null?void 0:i.state)??Ae}),[u,a]=s,d=l.useCallback(()=>{const o=L.get(r);if(!o)return;for(const[g,c]of o.entries())g!==e&&(c.state=[M.Descending,!1],c.listeners.forEach(h=>h()));const i=o.get(e);if(i){let g;a?g=u===M.Descending?M.Ascending:M.Descending:g=M.Descending,i.state=[g,!0],i.listeners.forEach(c=>c())}},[a,u,r,e]);return{sortValue:u,isActive:a,toggleSortState:d}},B=(e,t)=>{const n=k(),r=l.useCallback(u=>{var a,d,o,i,g,c;if(e.has(n))if((a=e.get(n))!=null&&a.has(t)){const h=(d=e.get(n))==null?void 0:d.get(t);(o=e.get(n))==null||o.set(t,{state:(h==null?void 0:h.state)??!1,listeners:(h==null?void 0:h.listeners.add(u))??new Set([u])})}else(c=e.get(n))==null||c.set(t,{state:((g=(i=e.get(n))==null?void 0:i.get(t))==null?void 0:g.state)??!1,listeners:new Set([u])});return()=>{var h,m;(m=(h=e.get(n))==null?void 0:h.get(t))==null||m.listeners.delete(u)}},[t,e,n]),s=l.useCallback(()=>{var u,a;return((a=(u=e.get(n))==null?void 0:u.get(t))==null?void 0:a.state)??!1},[t,e,n]);return l.useSyncExternalStore(r,s)},Xe=e=>{const{id:t}=e,n=k(),r=l.useCallback(()=>{var o,i,g;const d=((i=(o=O.get(n))==null?void 0:o.get(t))==null?void 0:i.listeners)??new Set;(g=O.get(n))==null||g.set(t,{listeners:d,state:!0}),d.forEach(c=>c())},[n,t]),s=l.useCallback(()=>{var o,i,g;const d=((i=(o=O.get(n))==null?void 0:o.get(t))==null?void 0:i.listeners)??new Set;(g=O.get(n))==null||g.set(t,{listeners:d,state:!1}),d.forEach(c=>c())},[n,t]),u=l.useCallback(d=>{d?r():s()},[r,s]),a=B(O,t);return e.children({onRowActive:r,onRowInactive:s,onToggleRowActive:u,active:a})},He=e=>{const{id:t}=e,n=k(),r=l.useCallback(()=>{var d,o,i;const a=((o=(d=q.get(n))==null?void 0:d.get(t))==null?void 0:o.listeners)??new Set;(i=q.get(n))==null||i.set(t,{listeners:a,state:!0}),a.forEach(g=>g())},[t,n]),s=l.useCallback(()=>{var d,o,i;const a=((o=(d=q.get(n))==null?void 0:d.get(t))==null?void 0:o.listeners)??new Set;(i=q.get(n))==null||i.set(t,{listeners:a,state:!1}),a.forEach(g=>g())},[t,n]),u=B(q,t);return e.children({onClose:s,onOpen:r,active:u})},Ze=({name:e,className:t,initialState:n=M.Descending,initialActive:r=!1,children:s,onChange:u})=>{const{sortValue:a,isActive:d,toggleSortState:o}=De(e,n,r),i=()=>{o(),u&&u(e,a===M.Ascending?M.Descending:M.Ascending)};return f.jsxs("span",{onClick:i,className:w("flex items-center gap-2 cursor-pointer",{"text-muted-foreground":!d,"text-primary":d},t),children:[s,a==="asc"&&f.jsx(K,{className:"h-[1rem] w-[1rem]"}),a==="desc"&&f.jsx(X,{className:"h-[1rem] w-[1rem]"})]})},Fe=l.forwardRef(({onCalculateBodyRowCount:e,isLoading:t,...n},r)=>{const s=l.useRef(null),u=l.useRef(e);return u.current=e,l.useEffect(()=>{if(!s.current||!u.current)return;let a=0;const d=new ResizeObserver(o=>{var T;const i=o[0],g=i.target.clientHeight,c=i.target.children[0].children[0].clientHeight,h=i.target.children[0].children[1].children[0].clientHeight,m=g-c-h,S=Math.floor(m/h);a!==S&&((T=u.current)==null||T.call(u,S),a=S)});return d.observe(s.current),()=>{d.disconnect()}},[u]),f.jsxs("div",{ref:s,className:w("relative w-full overflow-auto flex-1",n.rootClassName),children:[f.jsx("table",{ref:r,className:w("w-full caption-bottom text-sm",n.tableClassName),...n}),f.jsx(Ue,{isLoading:t??!1})]})});Fe.displayName="Table";const ne=l.forwardRef(({className:e,id:t,...n},r)=>{const s=B(O,t);return f.jsx("tr",{ref:r,className:w("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted h-[var(--table-h-row)]",s&&"bg-muted",e),...n})});ne.displayName="TableRow";const Le=l.forwardRef(({className:e,...t},n)=>{const r=l.Children.count(t.children),s=l.useId();return f.jsxs("tbody",{ref:n,className:w("[&_tr:last-child]:border-0",e),...t,children:[r===0&&f.jsx(ne,{id:s}),t.children]})});Le.displayName="TableBody";const re=l.forwardRef(({className:e,...t},n)=>f.jsx("td",{ref:n,className:w("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));re.displayName="TableCell";const et=l.forwardRef((e,t)=>f.jsx(re,{...e,id:`${e.id}`,ref:t,children:f.jsx(He,{id:e.id,children:({active:n,onOpen:r,onClose:s})=>f.jsx("div",{className:"cursor-pointer",onClick:()=>n?s():r(),children:n?f.jsx(K,{className:"h-[1rem] w-[1rem]"}):f.jsx(X,{className:"h-[1rem] w-[1rem]"})})})})),ze=l.forwardRef(({className:e,...t},n)=>f.jsx("tfoot",{ref:n,className:w("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ze.displayName="TableFooter";const se=l.forwardRef(({className:e,...t},n)=>f.jsx("th",{ref:n,className:w("h-10 px-2 text-left align-middle text-muted-foreground font-medium [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t,children:t.children}));se.displayName="TableHead";const tt=l.forwardRef((e,t)=>f.jsx(se,{className:w("w-[var(--table-w-row-detail)]",e.className),...e,ref:t})),_e=l.forwardRef(({className:e,...t},n)=>f.jsx("thead",{ref:n,className:w("[&_tr]:border-b",e),...t,children:f.jsx("tr",{className:w("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted h-[var(--table-h-header)]"),children:t.children})}));_e.displayName="TableHeader";const Ue=e=>{const{isLoading:t}=e;return t&&f.jsx(he,{overlay:!0})};function ke({controlled:e,default:t}){const{current:n}=l.useRef(e!==void 0),[r,s]=l.useState(t),u=n?e:r,a=ge.useCallback(d=>{n||s(d)},[]);return[u??1,a]}function Be(e){const{boundaryCount:t=1,count:n=1,defaultPage:r=1,disabled:s=!1,hideNextButton:u=!1,hidePrevButton:a=!1,onChange:d,page:o,showFirstButton:i=!1,showLastButton:g=!1,siblingCount:c=1,...h}=e,[m,S]=ke({controlled:o,default:r}),T=(x,y)=>{o||S(y),d&&d(x,y)},R=(x,y)=>{const N=y-x+1;return Array.from({length:N},(j,D)=>x+D)},E=R(1,Math.min(t,n)),A=R(Math.max(n-t+1,t+1),n),v=Math.max(Math.min(m-c,n-t-c*2-1),t+2),b=Math.min(Math.max(m+c,t+c*2+2),n-t-1),p=[...i?["first"]:[],...a?[]:["previous"],...E,...v>t+2?["start-ellipsis"]:t+1<n-t?[t+1]:[],...R(v,b),...b<n-t-1?["end-ellipsis"]:n-t>t?[n-t]:[],...A,...u?[]:["next"],...g?["last"]:[]],H=x=>{switch(x){case"first":return 1;case"previous":return m-1;case"next":return m+1;case"last":return n;default:return null}};return{items:p.map(x=>typeof x=="number"?{onClick:y=>{T(y,x)},type:"page",page:x,selected:x===m,disabled:s,"aria-current":x===m?"page":void 0}:{onClick:y=>{T(y,H(x))},type:x,page:H(x),selected:!1,disabled:s||!x.includes("ellipsis")&&(x==="next"||x==="last"?m>=n:m<=1)}),...h}}const ae=({className:e,...t})=>f.jsx("nav",{role:"navigation","aria-label":"pagination",className:w("mx-auto flex w-full justify-center",e),...t});ae.displayName="Pagination";const le=l.forwardRef(({className:e,...t},n)=>f.jsx("ul",{ref:n,className:w("flex flex-row items-center gap-1",e),...t}));le.displayName="PaginationContent";const z=l.forwardRef(({className:e,...t},n)=>f.jsx("li",{ref:n,className:w("",{"pointer-events-none opacity-50":t.disabled},e),"aria-disabled":t.disabled,...t}));z.displayName="PaginationItem";const V=({className:e,isActive:t,size:n="icon",...r})=>f.jsx("a",{"aria-current":t?"page":void 0,className:w(me({variant:t?"outline":"ghost",size:n}),e),...r});V.displayName="PaginationLink";const oe=({className:e,...t})=>f.jsx(V,{"aria-label":"Go to previous page",size:"default",className:w("",e),...t,children:f.jsx(xe,{className:"h-4 w-4"})});oe.displayName="PaginationPrevious";const ie=({className:e,...t})=>f.jsx(V,{"aria-label":"Go to next page",size:"default",className:w("",e),...t,children:f.jsx(we,{className:"h-4 w-4"})});ie.displayName="PaginationNext";const ce=({className:e,...t})=>f.jsxs("span",{"aria-hidden":!0,className:w("flex h-9 w-9 items-center justify-center",e),...t,children:[f.jsx(be,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"More pages"})]});ce.displayName="PaginationEllipsis";const Ve=e=>{const{className:t,classNameContent:n,page:r,count:s,onChange:u}=e,{items:a}=Be({page:r,count:s,onChange:(o,i)=>{u(i)}}),d=a.filter(o=>o.type==="page").length;return f.jsx(ae,{className:t,children:f.jsx(le,{className:n,children:a.map(({page:o,type:i,selected:g,...c},h)=>{let m=null;return i==="start-ellipsis"||i==="end-ellipsis"?m=f.jsx(z,{children:f.jsx(ce,{})},h):i==="page"?m=f.jsx(z,{...c,disabled:d===1,children:f.jsx(V,{href:"#",isActive:g,children:o})},h):i==="next"?m=f.jsx(z,{...c,children:f.jsx(ie,{href:"#",size:"icon"})},h):i==="previous"&&(m=f.jsx(z,{...c,children:f.jsx(oe,{href:"#",size:"icon"})},h)),m})})})},nt=e=>{const{page:t,count:n}=l.useMemo(()=>{let r=1,s=1;return"limit"in e&&"offset"in e&&"count"in e&&(r=Math.floor(e.offset/(e.limit??1))+1,s=Math.ceil((e.count??1)/(e.limit??1)),(typeof e.count!="number"||e.count===0)&&(s=1),(typeof e.limit!="number"||e.limit===0)&&(r=1)),"page"in e&&"count"in e&&(r=e.page,s=e.count??1),{page:r,count:s}},[e]);return f.jsx(Ve,{className:w("grid items-end justify-start flex-[0_0_var(--table-h-pagination)]",e.className),count:n,page:t,onChange:r=>{"limit"in e&&"offset"in e&&e.onOffset(r*(e.limit??1)-(e.limit??1)),"page"in e&&"count"in e&&e.onPage(r)}})},rt=e=>{const t=l.useId();return l.useLayoutEffect(()=>(O.set(t,new Map),q.set(t,new Map),()=>{O.delete(t),q.delete(t)}),[t]),f.jsx(Pe,{value:t,children:f.jsx("div",{className:w("flex flex-col h-full overflow-hidden shadow rounded-md p-4 bg-background",e.className),children:e.children})})},st=l.forwardRef(({className:e,id:t,...n},r)=>B(q,t)&&f.jsx("tr",{className:"border-b",children:f.jsx("td",{ref:r,colSpan:"100%",className:w("p-2 text-left font-normal align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...n})})),at=()=>Y("limit",ee),lt=()=>Y("offset",ee.withDefault(0)),ot=()=>Y("search",Oe);function Qe(e,t,n){var r=this,s=l.useRef(null),u=l.useRef(0),a=l.useRef(null),d=l.useRef([]),o=l.useRef(),i=l.useRef(),g=l.useRef(e),c=l.useRef(!0);g.current=e;var h=typeof window<"u",m=!t&&t!==0&&h;if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var S=!!(n=n||{}).leading,T=!("trailing"in n)||!!n.trailing,R="maxWait"in n,E="debounceOnServer"in n&&!!n.debounceOnServer,A=R?Math.max(+n.maxWait||0,t):null;l.useEffect(function(){return c.current=!0,function(){c.current=!1}},[]);var v=l.useMemo(function(){var b=function(N){var j=d.current,D=o.current;return d.current=o.current=null,u.current=N,i.current=g.current.apply(D,j)},p=function(N,j){m&&cancelAnimationFrame(a.current),a.current=m?requestAnimationFrame(N):setTimeout(N,j)},H=function(N){if(!c.current)return!1;var j=N-s.current;return!s.current||j>=t||j<0||R&&N-u.current>=A},Q=function(N){return a.current=null,T&&d.current?b(N):(d.current=o.current=null,i.current)},x=function N(){var j=Date.now();if(H(j))return Q(j);if(c.current){var D=t-(j-s.current),ue=R?Math.min(D,A-(j-u.current)):D;p(N,ue)}},y=function(){if(h||E){var N=Date.now(),j=H(N);if(d.current=[].slice.call(arguments),o.current=r,s.current=N,j){if(!a.current&&c.current)return u.current=s.current,p(x,t),S?b(s.current):i.current;if(R)return p(x,t),b(s.current)}return a.current||p(x,t),i.current}};return y.cancel=function(){a.current&&(m?cancelAnimationFrame(a.current):clearTimeout(a.current)),u.current=0,d.current=s.current=o.current=a.current=null},y.isPending=function(){return!!a.current},y.flush=function(){return a.current?Q(Date.now()):i.current},y},[S,R,t,A,T,m,h,E]);return v}function Ge(e,t){return e===t}function We(e,t,n){var r=Ge,s=l.useRef(e),u=l.useState({})[1],a=Qe(l.useCallback(function(o){s.current=o,u({})},[u]),t,n),d=l.useRef(e);return r(d.current,e)||(a(e),d.current=e),[s.current,a]}const it=e=>{const{className:t,onChange:n,defaultValue:r=""}=e,s=l.useRef(!1),u=l.useRef(n);u.current=n;const[a,d]=l.useState(r),[o]=We(a,1e3);return l.useEffect(()=>(s.current&&u.current(o),()=>{s.current=!0}),[o]),f.jsx(ve,{className:t,value:a,placeholder:"Search...",onChange:i=>d(i.target.value)})},ct=e=>{const{title:t,rightComponents:n,leftComponents:r}=e;return f.jsxs("div",{className:w("flex justify-between"),children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h1",{className:"text-2xl font-bold",children:t}),r]}),f.jsx("div",{className:"flex gap-2",children:n})]})};export{ct as H,it as S,nt as T,lt as a,at as b,rt as c,Fe as d,_e as e,tt as f,se as g,Ze as h,Le as i,ne as j,et as k,re as l,Xe as m,st as n,Y as o,ee as p,Oe as q,ot as u};
