var vt=e=>{throw TypeError(e)};var je=(e,r,t)=>r.has(e)||vt("Cannot "+t);var M=(e,r,t)=>(je(e,r,"read from private field"),t?t.call(e):r.get(e)),ge=(e,r,t)=>r.has(e)?vt("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),_e=(e,r,t,s)=>(je(e,r,"write to private field"),s?s.call(e,t):r.set(e,t),t),ve=(e,r,t)=>(je(e,r,"access private method"),t);import{s as Jt,aE as Xt,aF as bt,aG as Zt,t as Et,m as er,r as pe,C as tr,aH as rr,k as m}from"./index-CSL3rEGZ.js";var oe,ce,G,ae,ue,ke,Ze,wt,sr=(wt=class extends Jt{constructor(r,t){super();ge(this,ue);ge(this,oe);ge(this,ce);ge(this,G);ge(this,ae);_e(this,oe,r),this.setOptions(t),this.bindMethods(),ve(this,ue,ke).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const t=this.options;this.options=M(this,oe).defaultMutationOptions(r),Xt(this.options,t)||M(this,oe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,G),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&bt(t.mutationKey)!==bt(this.options.mutationKey)?this.reset():((s=M(this,G))==null?void 0:s.state.status)==="pending"&&M(this,G).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=M(this,G))==null||r.removeObserver(this)}onMutationUpdate(r){ve(this,ue,ke).call(this),ve(this,ue,Ze).call(this,r)}getCurrentResult(){return M(this,ce)}reset(){var r;(r=M(this,G))==null||r.removeObserver(this),_e(this,G,void 0),ve(this,ue,ke).call(this),ve(this,ue,Ze).call(this)}mutate(r,t){var s;return _e(this,ae,t),(s=M(this,G))==null||s.removeObserver(this),_e(this,G,M(this,oe).getMutationCache().build(M(this,oe),this.options)),M(this,G).addObserver(this),M(this,G).execute(r)}},oe=new WeakMap,ce=new WeakMap,G=new WeakMap,ae=new WeakMap,ue=new WeakSet,ke=function(){var t;const r=((t=M(this,G))==null?void 0:t.state)??Zt();_e(this,ce,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ze=function(r){Et.batch(()=>{var t,s,u,n,f,h,F,p;if(M(this,ae)&&this.hasListeners()){const A=M(this,ce).variables,_=M(this,ce).context;(r==null?void 0:r.type)==="success"?((s=(t=M(this,ae)).onSuccess)==null||s.call(t,r.data,A,_),(n=(u=M(this,ae)).onSettled)==null||n.call(u,r.data,null,A,_)):(r==null?void 0:r.type)==="error"&&((h=(f=M(this,ae)).onError)==null||h.call(f,r.error,A,_),(p=(F=M(this,ae)).onSettled)==null||p.call(F,void 0,r.error,A,_))}this.listeners.forEach(A=>{A(M(this,ce))})})},wt);function wr(e,r){const t=er(),[s]=pe.useState(()=>new sr(t,e));pe.useEffect(()=>{s.setOptions(e)},[s,e]);const u=pe.useSyncExternalStore(pe.useCallback(f=>s.subscribe(Et.batchCalls(f)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),n=pe.useCallback((f,h)=>{s.mutate(f,h).catch(tr)},[s]);if(u.error&&rr(s.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:n,mutateAsync:u.mutate}}var Ee=e=>e.type==="checkbox",he=e=>e instanceof Date,$=e=>e==null;const Dt=e=>typeof e=="object";var T=e=>!$(e)&&!Array.isArray(e)&&Dt(e)&&!he(e),kt=e=>T(e)&&e.target?Ee(e.target)?e.target.checked:e.target.value:e,ir=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ct=(e,r)=>e.has(ir(r)),ar=e=>{const r=e.constructor&&e.constructor.prototype;return T(r)&&r.hasOwnProperty("isPrototypeOf")},st=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function I(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(st&&(e instanceof Blob||s))&&(t||T(e)))if(r=t?[]:{},!t&&!ar(e))r=e;else for(const u in e)e.hasOwnProperty(u)&&(r[u]=I(e[u]));else return e;return r}var De=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,c=(e,r,t)=>{if(!r||!T(e))return t;const s=De(r.split(/[,[\].]+?/)).reduce((u,n)=>$(u)?u:u[n],e);return C(s)||s===e?C(e[r])?t:e[r]:s},Y=e=>typeof e=="boolean",it=e=>/^\w*$/.test(e),Ot=e=>De(e.replace(/["|']|\]/g,"").split(/\.|\[/)),k=(e,r,t)=>{let s=-1;const u=it(r)?[r]:Ot(r),n=u.length,f=n-1;for(;++s<n;){const h=u[s];let F=t;if(s!==f){const p=e[h];F=T(p)||Array.isArray(p)?p:isNaN(+u[s+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=F,e=e[h]}return e};const Oe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},J={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Mt=m.createContext(null),Te=()=>m.useContext(Mt),Er=e=>{const{children:r,...t}=e;return m.createElement(Mt.Provider,{value:t},r)};var Rt=(e,r,t,s=!0)=>{const u={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const f=n;return r._proxyFormState[f]!==J.all&&(r._proxyFormState[f]=!s||J.all),t&&(t[f]=!0),e[f]}});return u},K=e=>T(e)&&!Object.keys(e).length,Ut=(e,r,t,s)=>{t(e);const{name:u,...n}=e;return K(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(f=>r[f]===(!s||J.all))},Q=e=>Array.isArray(e)?e:[e],Tt=(e,r,t)=>!e||!r||e===r||Q(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s)));function Le(e){const r=m.useRef(e);r.current=e,m.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function ur(e){const r=Te(),{control:t=r.control,disabled:s,name:u,exact:n}=e||{},[f,h]=m.useState(t._formState),F=m.useRef(!0),p=m.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=m.useRef(u);return A.current=u,Le({disabled:s,next:_=>F.current&&Tt(A.current,_.name,n)&&Ut(_,p.current,t._updateFormState)&&h({...t._formState,..._}),subject:t._subjects.state}),m.useEffect(()=>(F.current=!0,p.current.isValid&&t._updateValid(!0),()=>{F.current=!1}),[t]),m.useMemo(()=>Rt(f,t,p.current,!1),[f,t])}var se=e=>typeof e=="string",Lt=(e,r,t,s,u)=>se(e)?(s&&r.watch.add(e),c(t,e,u)):Array.isArray(e)?e.map(n=>(s&&r.watch.add(n),c(t,n))):(s&&(r.watchAll=!0),t);function nr(e){const r=Te(),{control:t=r.control,name:s,defaultValue:u,disabled:n,exact:f}=e||{},h=m.useRef(s);h.current=s,Le({disabled:n,subject:t._subjects.values,next:A=>{Tt(h.current,A.name,f)&&p(I(Lt(h.current,t._names,A.values||t._formValues,!1,u)))}});const[F,p]=m.useState(t._getWatch(s,u));return m.useEffect(()=>t._removeUnmounted()),F}function lr(e){const r=Te(),{name:t,disabled:s,control:u=r.control,shouldUnregister:n}=e,f=Ct(u._names.array,t),h=nr({control:u,name:t,defaultValue:c(u._formValues,t,c(u._defaultValues,t,e.defaultValue)),exact:!0}),F=ur({control:u,name:t,exact:!0}),p=m.useRef(u.register(t,{...e.rules,value:h,...Y(e.disabled)?{disabled:e.disabled}:{}})),A=m.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(F.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(F.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(F.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(F.validatingFields,t)},error:{enumerable:!0,get:()=>c(F.errors,t)}}),[F,t]),_=m.useMemo(()=>({name:t,value:h,...Y(s)||F.disabled?{disabled:F.disabled||s}:{},onChange:L=>p.current.onChange({target:{value:kt(L),name:t},type:Oe.CHANGE}),onBlur:()=>p.current.onBlur({target:{value:c(u._formValues,t),name:t},type:Oe.BLUR}),ref:L=>{const E=c(u._fields,t);E&&L&&(E._f.ref={focus:()=>L.focus(),select:()=>L.select(),setCustomValidity:R=>L.setCustomValidity(R),reportValidity:()=>L.reportValidity()})}}),[t,u._formValues,s,F.disabled,h,u._fields]);return m.useEffect(()=>{const L=u._options.shouldUnregister||n,E=(R,de)=>{const H=c(u._fields,R);H&&H._f&&(H._f.mount=de)};if(E(t,!0),L){const R=I(c(u._options.defaultValues,t));k(u._defaultValues,t,R),C(c(u._formValues,t))&&k(u._formValues,t,R)}return()=>{(f?L&&!u._state.action:L)?u.unregister(t):E(t,!1)}},[t,u,f,n]),m.useEffect(()=>{Y(s)&&c(u._fields,t)&&u._updateDisabledField({disabled:s,fields:u._fields,name:t,value:c(u._fields,t)._f.value})},[s,t,u]),m.useMemo(()=>({field:_,formState:F,fieldState:A}),[_,F,A])}const Dr=e=>e.render(lr(e));var or=(e,r,t,s,u)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:u||!0}}:{},ne=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},qe=(e,r,t={})=>t.shouldFocus||C(t.shouldFocus)?t.focusName||`${e}.${C(t.focusIndex)?r:t.focusIndex}.`:"",we=e=>({isOnSubmit:!e||e===J.onSubmit,isOnBlur:e===J.onBlur,isOnChange:e===J.onChange,isOnAll:e===J.all,isOnTouch:e===J.onTouched}),et=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const me=(e,r,t,s)=>{for(const u of t||Object.keys(e)){const n=c(e,u);if(n){const{_f:f,...h}=n;if(f){if(f.refs&&f.refs[0]&&r(f.refs[0],u)&&!s)return!0;if(f.ref&&r(f.ref,f.name)&&!s)return!0;if(me(h,r))break}else if(T(h)&&me(h,r))break}}};var Nt=(e,r,t)=>{const s=Q(c(e,t));return k(s,"root",r[t]),k(e,t,s),e},at=e=>e.type==="file",re=e=>typeof e=="function",Me=e=>{if(!st)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ce=e=>se(e),ut=e=>e.type==="radio",Re=e=>e instanceof RegExp;const mt={value:!1,isValid:!1},Ft={value:!0,isValid:!0};var Bt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?Ft:{value:e[0].value,isValid:!0}:Ft:mt}return mt};const At={isValid:!1,value:null};var It=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,At):At;function Vt(e,r,t="validate"){if(Ce(e)||Array.isArray(e)&&e.every(Ce)||Y(e)&&!e)return{type:t,message:Ce(e)?e:"",ref:r}}var be=e=>T(e)&&!Re(e)?e:{value:e,message:""},tt=async(e,r,t,s,u)=>{const{ref:n,refs:f,required:h,maxLength:F,minLength:p,min:A,max:_,pattern:L,validate:E,name:R,valueAsNumber:de,mount:H,disabled:te}=e._f,w=c(r,R);if(!H||te)return{};const X=f?f[0]:n,Z=S=>{s&&X.reportValidity&&(X.setCustomValidity(Y(S)?"":S||""),X.reportValidity())},U={},v=ut(n),b=Ee(n),V=v||b,O=(de||at(n))&&C(n.value)&&C(w)||Me(n)&&n.value===""||w===""||Array.isArray(w)&&!w.length,P=or.bind(null,R,t,U),fe=(S,D,B,W=ie.maxLength,ee=ie.minLength)=>{const z=S?D:B;U[R]={type:S?W:ee,message:z,ref:n,...P(S?W:ee,z)}};if(u?!Array.isArray(w)||!w.length:h&&(!V&&(O||$(w))||Y(w)&&!w||b&&!Bt(f).isValid||v&&!It(f).isValid)){const{value:S,message:D}=Ce(h)?{value:!!h,message:h}:be(h);if(S&&(U[R]={type:ie.required,message:D,ref:X,...P(ie.required,D)},!t))return Z(D),U}if(!O&&(!$(A)||!$(_))){let S,D;const B=be(_),W=be(A);if(!$(w)&&!isNaN(w)){const ee=n.valueAsNumber||w&&+w;$(B.value)||(S=ee>B.value),$(W.value)||(D=ee<W.value)}else{const ee=n.valueAsDate||new Date(w),z=Ve=>new Date(new Date().toDateString()+" "+Ve),Fe=n.type=="time",Ae=n.type=="week";se(B.value)&&w&&(S=Fe?z(w)>z(B.value):Ae?w>B.value:ee>new Date(B.value)),se(W.value)&&w&&(D=Fe?z(w)<z(W.value):Ae?w<W.value:ee<new Date(W.value))}if((S||D)&&(fe(!!S,B.message,W.message,ie.max,ie.min),!t))return Z(U[R].message),U}if((F||p)&&!O&&(se(w)||u&&Array.isArray(w))){const S=be(F),D=be(p),B=!$(S.value)&&w.length>+S.value,W=!$(D.value)&&w.length<+D.value;if((B||W)&&(fe(B,S.message,D.message),!t))return Z(U[R].message),U}if(L&&!O&&se(w)){const{value:S,message:D}=be(L);if(Re(S)&&!w.match(S)&&(U[R]={type:ie.pattern,message:D,ref:n,...P(ie.pattern,D)},!t))return Z(D),U}if(E){if(re(E)){const S=await E(w,r),D=Vt(S,X);if(D&&(U[R]={...D,...P(ie.validate,D.message)},!t))return Z(D.message),U}else if(T(E)){let S={};for(const D in E){if(!K(S)&&!t)break;const B=Vt(await E[D](w,r),X,D);B&&(S={...B,...P(D,B.message)},Z(B.message),t&&(U[R]=S))}if(!K(S)&&(U[R]={ref:X,...S},!t))return U}}return Z(!0),U},We=(e,r)=>[...e,...Q(r)],He=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ke(e,r,t){return[...e.slice(0,r),...Q(t),...e.slice(r)]}var $e=(e,r,t)=>Array.isArray(e)?(C(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],Ge=(e,r)=>[...Q(r),...Q(e)];function cr(e,r){let t=0;const s=[...e];for(const u of r)s.splice(u-t,1),t++;return De(s).length?s:[]}var Qe=(e,r)=>C(r)?[]:cr(e,Q(r).sort((t,s)=>t-s)),Ye=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]};function dr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=C(e)?s++:e[r[s++]];return e}function fr(e){for(const r in e)if(e.hasOwnProperty(r)&&!C(e[r]))return!1;return!0}function N(e,r){const t=Array.isArray(r)?r:it(r)?[r]:Ot(r),s=t.length===1?e:dr(e,t),u=t.length-1,n=t[u];return s&&delete s[n],u!==0&&(T(s)&&K(s)||Array.isArray(s)&&fr(s))&&N(e,t.slice(0,-1)),e}var pt=(e,r,t)=>(e[r]=t,e);function kr(e){const r=Te(),{control:t=r.control,name:s,keyName:u="id",shouldUnregister:n,rules:f}=e,[h,F]=m.useState(t._getFieldArray(s)),p=m.useRef(t._getFieldArray(s).map(ne)),A=m.useRef(h),_=m.useRef(s),L=m.useRef(!1);_.current=s,A.current=h,t._names.array.add(s),f&&t.register(s,f),Le({next:({values:v,name:b})=>{if(b===_.current||!b){const V=c(v,_.current);Array.isArray(V)&&(F(V),p.current=V.map(ne))}},subject:t._subjects.array});const E=m.useCallback(v=>{L.current=!0,t._updateFieldArray(s,v)},[t,s]),R=(v,b)=>{const V=Q(I(v)),O=We(t._getFieldArray(s),V);t._names.focus=qe(s,O.length-1,b),p.current=We(p.current,V.map(ne)),E(O),F(O),t._updateFieldArray(s,O,We,{argA:He(v)})},de=(v,b)=>{const V=Q(I(v)),O=Ge(t._getFieldArray(s),V);t._names.focus=qe(s,0,b),p.current=Ge(p.current,V.map(ne)),E(O),F(O),t._updateFieldArray(s,O,Ge,{argA:He(v)})},H=v=>{const b=Qe(t._getFieldArray(s),v);p.current=Qe(p.current,v),E(b),F(b),!Array.isArray(c(t._fields,s))&&k(t._fields,s,void 0),t._updateFieldArray(s,b,Qe,{argA:v})},te=(v,b,V)=>{const O=Q(I(b)),P=Ke(t._getFieldArray(s),v,O);t._names.focus=qe(s,v,V),p.current=Ke(p.current,v,O.map(ne)),E(P),F(P),t._updateFieldArray(s,P,Ke,{argA:v,argB:He(b)})},w=(v,b)=>{const V=t._getFieldArray(s);Ye(V,v,b),Ye(p.current,v,b),E(V),F(V),t._updateFieldArray(s,V,Ye,{argA:v,argB:b},!1)},X=(v,b)=>{const V=t._getFieldArray(s);$e(V,v,b),$e(p.current,v,b),E(V),F(V),t._updateFieldArray(s,V,$e,{argA:v,argB:b},!1)},Z=(v,b)=>{const V=I(b),O=pt(t._getFieldArray(s),v,V);p.current=[...O].map((P,fe)=>!P||fe===v?ne():p.current[fe]),E(O),F([...O]),t._updateFieldArray(s,O,pt,{argA:v,argB:V},!0,!1)},U=v=>{const b=Q(I(v));p.current=b.map(ne),E([...b]),F([...b]),t._updateFieldArray(s,[...b],V=>V,{},!0,!1)};return m.useEffect(()=>{if(t._state.action=!1,et(s,t._names)&&t._subjects.state.next({...t._formState}),L.current&&(!we(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([s]).then(v=>{const b=c(v.errors,s),V=c(t._formState.errors,s);(V?!b&&V.type||b&&(V.type!==b.type||V.message!==b.message):b&&b.type)&&(b?k(t._formState.errors,s,b):N(t._formState.errors,s),t._subjects.state.next({errors:t._formState.errors}))});else{const v=c(t._fields,s);v&&v._f&&!(we(t._options.reValidateMode).isOnSubmit&&we(t._options.mode).isOnSubmit)&&tt(v,t._formValues,t._options.criteriaMode===J.all,t._options.shouldUseNativeValidation,!0).then(b=>!K(b)&&t._subjects.state.next({errors:Nt(t._formState.errors,b,s)}))}t._subjects.values.next({name:s,values:{...t._formValues}}),t._names.focus&&me(t._fields,(v,b)=>{if(t._names.focus&&b.startsWith(t._names.focus)&&v.focus)return v.focus(),1}),t._names.focus="",t._updateValid(),L.current=!1},[h,s,t]),m.useEffect(()=>(!c(t._formValues,s)&&t._updateFieldArray(s),()=>{(t._options.shouldUnregister||n)&&t.unregister(s)}),[s,t,u,n]),{swap:m.useCallback(w,[E,s,t]),move:m.useCallback(X,[E,s,t]),prepend:m.useCallback(de,[E,s,t]),append:m.useCallback(R,[E,s,t]),remove:m.useCallback(H,[E,s,t]),insert:m.useCallback(te,[E,s,t]),update:m.useCallback(Z,[E,s,t]),replace:m.useCallback(U,[E,s,t]),fields:m.useMemo(()=>h.map((v,b)=>({...v,[u]:p.current[b]||ne()})),[h,u])}}var ze=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}},rt=e=>$(e)||!Dt(e);function le(e,r){if(rt(e)||rt(r))return e===r;if(he(e)&&he(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const u of t){const n=e[u];if(!s.includes(u))return!1;if(u!=="ref"){const f=r[u];if(he(n)&&he(f)||T(n)&&T(f)||Array.isArray(n)&&Array.isArray(f)?!le(n,f):n!==f)return!1}}return!0}var Pt=e=>e.type==="select-multiple",yr=e=>ut(e)||Ee(e),Je=e=>Me(e)&&e.isConnected,jt=e=>{for(const r in e)if(re(e[r]))return!0;return!1};function Ue(e,r={}){const t=Array.isArray(e);if(T(e)||t)for(const s in e)Array.isArray(e[s])||T(e[s])&&!jt(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Ue(e[s],r[s])):$(e[s])||(r[s]=!0);return r}function qt(e,r,t){const s=Array.isArray(e);if(T(e)||s)for(const u in e)Array.isArray(e[u])||T(e[u])&&!jt(e[u])?C(r)||rt(t[u])?t[u]=Array.isArray(e[u])?Ue(e[u],[]):{...Ue(e[u])}:qt(e[u],$(r)?{}:r[u],t[u]):t[u]=!le(e[u],r[u]);return t}var xe=(e,r)=>qt(e,r,Ue(r)),Wt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>C(e)?e:r?e===""?NaN:e&&+e:t&&se(e)?new Date(e):s?s(e):e;function Xe(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return at(r)?r.files:ut(r)?It(e.refs).value:Pt(r)?[...r.selectedOptions].map(({value:t})=>t):Ee(r)?Bt(e.refs).value:Wt(C(r.value)?e.ref.value:r.value,e)}var hr=(e,r,t,s)=>{const u={};for(const n of e){const f=c(r,n);f&&k(u,n,f._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:s}},Se=e=>C(e)?e:Re(e)?e.source:T(e)?Re(e.value)?e.value.source:e.value:e;const xt="AsyncFunction";var gr=e=>!!e&&!!e.validate&&!!(re(e.validate)&&e.validate.constructor.name===xt||T(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===xt)),_r=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function St(e,r,t){const s=c(e,t);if(s||it(t))return{error:s,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),f=c(r,n),h=c(e,n);if(f&&!Array.isArray(f)&&t!==n)return{name:t};if(h&&h.type)return{name:n,error:h};u.pop()}return{name:t}}var vr=(e,r,t,s,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(r||e):(t?s.isOnBlur:u.isOnBlur)?!e:(t?s.isOnChange:u.isOnChange)?e:!0,br=(e,r)=>!De(c(e,r)).length&&N(e,r);const mr={mode:J.onSubmit,reValidateMode:J.onChange,shouldFocusError:!0};function Fr(e={}){let r={...mr,...e},t={submitCount:0,isDirty:!1,isLoading:re(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},u=T(r.defaultValues)||T(r.values)?I(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:I(u),f={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},F,p=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={values:ze(),array:ze(),state:ze()},L=we(r.mode),E=we(r.reValidateMode),R=r.criteriaMode===J.all,de=i=>a=>{clearTimeout(p),p=setTimeout(i,a)},H=async i=>{if(!r.disabled&&(A.isValid||i)){const a=r.resolver?K((await V()).errors):await P(s,!0);a!==t.isValid&&_.state.next({isValid:a})}},te=(i,a)=>{!r.disabled&&(A.isValidating||A.validatingFields)&&((i||Array.from(h.mount)).forEach(l=>{l&&(a?k(t.validatingFields,l,a):N(t.validatingFields,l))}),_.state.next({validatingFields:t.validatingFields,isValidating:!K(t.validatingFields)}))},w=(i,a=[],l,y,d=!0,o=!0)=>{if(y&&l&&!r.disabled){if(f.action=!0,o&&Array.isArray(c(s,i))){const g=l(c(s,i),y.argA,y.argB);d&&k(s,i,g)}if(o&&Array.isArray(c(t.errors,i))){const g=l(c(t.errors,i),y.argA,y.argB);d&&k(t.errors,i,g),br(t.errors,i)}if(A.touchedFields&&o&&Array.isArray(c(t.touchedFields,i))){const g=l(c(t.touchedFields,i),y.argA,y.argB);d&&k(t.touchedFields,i,g)}A.dirtyFields&&(t.dirtyFields=xe(u,n)),_.state.next({name:i,isDirty:S(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else k(n,i,a)},X=(i,a)=>{k(t.errors,i,a),_.state.next({errors:t.errors})},Z=i=>{t.errors=i,_.state.next({errors:t.errors,isValid:!1})},U=(i,a,l,y)=>{const d=c(s,i);if(d){const o=c(n,i,C(l)?c(u,i):l);C(o)||y&&y.defaultChecked||a?k(n,i,a?o:Xe(d._f)):W(i,o),f.mount&&H()}},v=(i,a,l,y,d)=>{let o=!1,g=!1;const x={name:i};if(!r.disabled){const j=!!(c(s,i)&&c(s,i)._f&&c(s,i)._f.disabled);if(!l||y){A.isDirty&&(g=t.isDirty,t.isDirty=x.isDirty=S(),o=g!==x.isDirty);const q=j||le(c(u,i),a);g=!!(!j&&c(t.dirtyFields,i)),q||j?N(t.dirtyFields,i):k(t.dirtyFields,i,!0),x.dirtyFields=t.dirtyFields,o=o||A.dirtyFields&&g!==!q}if(l){const q=c(t.touchedFields,i);q||(k(t.touchedFields,i,l),x.touchedFields=t.touchedFields,o=o||A.touchedFields&&q!==l)}o&&d&&_.state.next(x)}return o?x:{}},b=(i,a,l,y)=>{const d=c(t.errors,i),o=A.isValid&&Y(a)&&t.isValid!==a;if(r.delayError&&l?(F=de(()=>X(i,l)),F(r.delayError)):(clearTimeout(p),F=null,l?k(t.errors,i,l):N(t.errors,i)),(l?!le(d,l):d)||!K(y)||o){const g={...y,...o&&Y(a)?{isValid:a}:{},errors:t.errors,name:i};t={...t,...g},_.state.next(g)}},V=async i=>{te(i,!0);const a=await r.resolver(n,r.context,hr(i||h.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return te(i),a},O=async i=>{const{errors:a}=await V(i);if(i)for(const l of i){const y=c(a,l);y?k(t.errors,l,y):N(t.errors,l)}else t.errors=a;return a},P=async(i,a,l={valid:!0})=>{for(const y in i){const d=i[y];if(d){const{_f:o,...g}=d;if(o){const x=h.array.has(o.name),j=d._f&&gr(d._f);j&&A.validatingFields&&te([y],!0);const q=await tt(d,n,R,r.shouldUseNativeValidation&&!a,x);if(j&&A.validatingFields&&te([y]),q[o.name]&&(l.valid=!1,a))break;!a&&(c(q,o.name)?x?Nt(t.errors,q,o.name):k(t.errors,o.name,q[o.name]):N(t.errors,o.name))}!K(g)&&await P(g,a,l)}}return l.valid},fe=()=>{for(const i of h.unMount){const a=c(s,i);a&&(a._f.refs?a._f.refs.every(l=>!Je(l)):!Je(a._f.ref))&&Ne(i)}h.unMount=new Set},S=(i,a)=>!r.disabled&&(i&&a&&k(n,i,a),!le(nt(),u)),D=(i,a,l)=>Lt(i,h,{...f.mount?n:C(a)?u:se(i)?{[i]:a}:a},l,a),B=i=>De(c(f.mount?n:u,i,r.shouldUnregister?c(u,i,[]):[])),W=(i,a,l={})=>{const y=c(s,i);let d=a;if(y){const o=y._f;o&&(!o.disabled&&k(n,i,Wt(a,o)),d=Me(o.ref)&&$(a)?"":a,Pt(o.ref)?[...o.ref.options].forEach(g=>g.selected=d.includes(g.value)):o.refs?Ee(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(d)?!!d.find(x=>x===g.value):d===g.value)):o.refs[0]&&(o.refs[0].checked=!!d):o.refs.forEach(g=>g.checked=g.value===d):at(o.ref)?o.ref.value="":(o.ref.value=d,o.ref.type||_.values.next({name:i,values:{...n}})))}(l.shouldDirty||l.shouldTouch)&&v(i,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Ve(i)},ee=(i,a,l)=>{for(const y in a){const d=a[y],o=`${i}.${y}`,g=c(s,o);(h.array.has(i)||T(d)||g&&!g._f)&&!he(d)?ee(o,d,l):W(o,d,l)}},z=(i,a,l={})=>{const y=c(s,i),d=h.array.has(i),o=I(a);k(n,i,o),d?(_.array.next({name:i,values:{...n}}),(A.isDirty||A.dirtyFields)&&l.shouldDirty&&_.state.next({name:i,dirtyFields:xe(u,n),isDirty:S(i,o)})):y&&!y._f&&!$(o)?ee(i,o,l):W(i,o,l),et(i,h)&&_.state.next({...t}),_.values.next({name:f.mount?i:void 0,values:{...n}})},Fe=async i=>{f.mount=!0;const a=i.target;let l=a.name,y=!0;const d=c(s,l),o=()=>a.type?Xe(d._f):kt(i),g=x=>{y=Number.isNaN(x)||he(x)&&isNaN(x.getTime())||le(x,c(n,l,x))};if(d){let x,j;const q=o(),ye=i.type===Oe.BLUR||i.type===Oe.FOCUS_OUT,Qt=!_r(d._f)&&!r.resolver&&!c(t.errors,l)&&!d._f.deps||vr(ye,c(t.touchedFields,l),t.isSubmitted,E,L),Ie=et(l,h,ye);k(n,l,q),ye?(d._f.onBlur&&d._f.onBlur(i),F&&F(0)):d._f.onChange&&d._f.onChange(i);const Pe=v(l,q,ye,!1),Yt=!K(Pe)||Ie;if(!ye&&_.values.next({name:l,type:i.type,values:{...n}}),Qt)return A.isValid&&(r.mode==="onBlur"?ye&&H():H()),Yt&&_.state.next({name:l,...Ie?{}:Pe});if(!ye&&Ie&&_.state.next({...t}),r.resolver){const{errors:gt}=await V([l]);if(g(q),y){const zt=St(t.errors,s,l),_t=St(gt,s,zt.name||l);x=_t.error,l=_t.name,j=K(gt)}}else te([l],!0),x=(await tt(d,n,R,r.shouldUseNativeValidation))[l],te([l]),g(q),y&&(x?j=!1:A.isValid&&(j=await P(s,!0)));y&&(d._f.deps&&Ve(d._f.deps),b(l,j,x,Pe))}},Ae=(i,a)=>{if(c(t.errors,a)&&i.focus)return i.focus(),1},Ve=async(i,a={})=>{let l,y;const d=Q(i);if(r.resolver){const o=await O(C(i)?i:d);l=K(o),y=i?!d.some(g=>c(o,g)):l}else i?(y=(await Promise.all(d.map(async o=>{const g=c(s,o);return await P(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&H()):y=l=await P(s);return _.state.next({...!se(i)||A.isValid&&l!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!y&&me(s,Ae,i?d:h.mount),y},nt=i=>{const a={...f.mount?n:u};return C(i)?a:se(i)?c(a,i):i.map(l=>c(a,l))},lt=(i,a)=>({invalid:!!c((a||t).errors,i),isDirty:!!c((a||t).dirtyFields,i),error:c((a||t).errors,i),isValidating:!!c(t.validatingFields,i),isTouched:!!c((a||t).touchedFields,i)}),Ht=i=>{i&&Q(i).forEach(a=>N(t.errors,a)),_.state.next({errors:i?t.errors:{}})},ot=(i,a,l)=>{const y=(c(s,i,{_f:{}})._f||{}).ref,d=c(t.errors,i)||{},{ref:o,message:g,type:x,...j}=d;k(t.errors,i,{...j,...a,ref:y}),_.state.next({name:i,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},Kt=(i,a)=>re(i)?_.values.subscribe({next:l=>i(D(void 0,a),l)}):D(i,a,!0),Ne=(i,a={})=>{for(const l of i?Q(i):h.mount)h.mount.delete(l),h.array.delete(l),a.keepValue||(N(s,l),N(n,l)),!a.keepError&&N(t.errors,l),!a.keepDirty&&N(t.dirtyFields,l),!a.keepTouched&&N(t.touchedFields,l),!a.keepIsValidating&&N(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&N(u,l);_.values.next({values:{...n}}),_.state.next({...t,...a.keepDirty?{isDirty:S()}:{}}),!a.keepIsValid&&H()},ct=({disabled:i,name:a,field:l,fields:y,value:d})=>{if(Y(i)&&f.mount||i){const o=i?void 0:C(d)?Xe(l?l._f:c(y,a)._f):d;(i||!i&&!C(o))&&k(n,a,o),v(a,o,!1,!1,!0)}},Be=(i,a={})=>{let l=c(s,i);const y=Y(a.disabled)||Y(r.disabled);return k(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...a}}),h.mount.add(i),l?ct({field:l,disabled:Y(a.disabled)?a.disabled:r.disabled,name:i,value:a.value}):U(i,!0,a.value),{...y?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:Se(a.min),max:Se(a.max),minLength:Se(a.minLength),maxLength:Se(a.maxLength),pattern:Se(a.pattern)}:{},name:i,onChange:Fe,onBlur:Fe,ref:d=>{if(d){Be(i,a),l=c(s,i);const o=C(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=yr(o),x=l._f.refs||[];if(g?x.find(j=>j===o):o===l._f.ref)return;k(s,i,{_f:{...l._f,...g?{refs:[...x.filter(Je),o,...Array.isArray(c(u,i))?[{}]:[]],ref:{type:o.type,name:i}}:{ref:o}}}),U(i,!1,void 0,o)}else l=c(s,i,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Ct(h.array,i)&&f.action)&&h.unMount.add(i)}}},dt=()=>r.shouldFocusError&&me(s,Ae,h.mount),$t=i=>{Y(i)&&(_.state.next({disabled:i}),me(s,(a,l)=>{const y=c(s,l);y&&(a.disabled=y._f.disabled||i,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||i}))},0,!1))},ft=(i,a)=>async l=>{let y;if(l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist()),r.disabled){a&&await a({...t.errors},l);return}let d=I(n);if(_.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:g}=await V();t.errors=o,d=g}else await P(s);if(N(t.errors,"root"),K(t.errors)){_.state.next({errors:{}});try{await i(d,l)}catch(o){y=o}}else a&&await a({...t.errors},l),dt(),setTimeout(dt);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:K(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Gt=(i,a={})=>{c(s,i)&&(C(a.defaultValue)?z(i,I(c(u,i))):(z(i,a.defaultValue),k(u,i,I(a.defaultValue))),a.keepTouched||N(t.touchedFields,i),a.keepDirty||(N(t.dirtyFields,i),t.isDirty=a.defaultValue?S(i,I(c(u,i))):S()),a.keepError||(N(t.errors,i),A.isValid&&H()),_.state.next({...t}))},yt=(i,a={})=>{const l=i?I(i):u,y=I(l),d=K(i),o=d?u:y;if(a.keepDefaultValues||(u=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...h.mount,...Object.keys(xe(u,n))]);for(const x of Array.from(g))c(t.dirtyFields,x)?k(o,x,c(n,x)):z(x,c(o,x))}else{if(st&&C(i))for(const g of h.mount){const x=c(s,g);if(x&&x._f){const j=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Me(j)){const q=j.closest("form");if(q){q.reset();break}}}}s={}}n=r.shouldUnregister?a.keepDefaultValues?I(u):{}:I(o),_.array.next({values:{...o}}),_.values.next({values:{...o}})}h={mount:a.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!A.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!r.shouldUnregister,_.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:d?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!le(i,u)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&n?xe(u,n):t.dirtyFields:a.keepDefaultValues&&i?xe(u,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ht=(i,a)=>yt(re(i)?i(n):i,a);return{control:{register:Be,unregister:Ne,getFieldState:lt,handleSubmit:ft,setError:ot,_executeSchema:V,_getWatch:D,_getDirty:S,_updateValid:H,_removeUnmounted:fe,_updateFieldArray:w,_updateDisabledField:ct,_getFieldArray:B,_reset:yt,_resetDefaultValues:()=>re(r.defaultValues)&&r.defaultValues().then(i=>{ht(i,r.resetOptions),_.state.next({isLoading:!1})}),_updateFormState:i=>{t={...t,...i}},_disableForm:$t,_subjects:_,_proxyFormState:A,_setErrors:Z,get _fields(){return s},get _formValues(){return n},get _state(){return f},set _state(i){f=i},get _defaultValues(){return u},get _names(){return h},set _names(i){h=i},get _formState(){return t},set _formState(i){t=i},get _options(){return r},set _options(i){r={...r,...i}}},trigger:Ve,register:Be,handleSubmit:ft,watch:Kt,setValue:z,getValues:nt,reset:ht,resetField:Gt,clearErrors:Ht,unregister:Ne,setError:ot,setFocus:(i,a={})=>{const l=c(s,i),y=l&&l._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),a.shouldSelect&&re(d.select)&&d.select())}},getFieldState:lt}}function Cr(e={}){const r=m.useRef(void 0),t=m.useRef(void 0),[s,u]=m.useState({isDirty:!1,isValidating:!1,isLoading:re(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:re(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Fr(e),formState:s});const n=r.current.control;return n._options=e,Le({subject:n._subjects.state,next:f=>{Ut(f,n._proxyFormState,n._updateFormState,!0)&&u({...n._formState})}}),m.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),m.useEffect(()=>{if(n._proxyFormState.isDirty){const f=n._getDirty();f!==s.isDirty&&n._subjects.state.next({isDirty:f})}},[n,s.isDirty]),m.useEffect(()=>{e.values&&!le(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,u(f=>({...f}))):n._resetDefaultValues()},[e.values,n]),m.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),m.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),m.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),r.current.formState=Rt(s,n),r.current}export{Dr as C,Er as F,Cr as a,kr as b,Te as c,nr as d,wr as u};
